<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<body>
	<div th:fragment="menu">
		<div class="navbar navbar-default navbar-fixed-top" role="navigation">
			<div class="container">
				<div class="collapse navbar-collapse">
					<img class="sglogo" src="../../img/logo-sg-284x65.png" th:src="@{/img/logo-sg-284x65.png}" th:width="300" th:height="70" />
					<img class="defenderlogo" src="../../img/defender.png" th:src="@{/img/defender.png}" th:width="120" th:height="73" />
					<span class="label label-primary">Defender 2.0</span>
				</div>

				<div sec:authorize="isAuthenticated()" th:remove="tag">
					<div class="navbar-header">
						<button 
							type="button" 
							class="navbar-toggle" 
							data-toggle="collapse" 
							data-target=".navbar-collapse"
						>
							<span class="sr-only">Toggle navigation</span>
							<span class="icon-bar"></span>
							
						</button>
						<a class="navbar-brand" th:href="@{/}">Home</a>
					</div>
					
					<!-- Menu options  -->
					<div class="collapse navbar-collapse">
						
						<ul class="nav navbar-nav" role="menu" aria-labelledby="dropdownMenu">
							<li role="presentation" class="dropdown">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
									Test Execution <span class="caret"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/execution}">Executions</a></li>
									<li><a th:href="@{/machine}">QTP machines</a></li>
								</ul>
							</li>
							<li role="presentation" class="dropdown">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
									Test Development <span class="caret"></span>
								</a>
								<ul class="dropdown-menu  multi-level" role="menu" aria-labelledby="dropdownMenu">
									<li sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_MANAGER')">
										<a th:href="@{/graphicalObject}">Graphical Objects</a>
									</li>
									<li><a th:href="@{/function}">Functions</a></li>
									<li><a th:href="@{/perimeter}">Perimeters</a></li>
									<li><a th:href="@{/subperimeter}">Sub Perimeters</a></li>								
								</ul>
							</li>
							<li role="presentation" class="dropdown" sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_MANAGER')">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
									Test Manager <span class="caret"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/dashboard}">Manager Dashboard</a></li>
									<!-- <li><a href="#">Manager Dashboard</a></li> -->
								</ul>
							</li>
							<li role="presentation" class="dropdown" sec:authorize="hasRole('ROLE_ADMIN') || hasRole('ROLE_MANAGER')">
								<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-expanded="false">
									Administration <span class="caret"></span>
								</a>
								<ul class="dropdown-menu" role="menu">
									<li><a th:href="@{/user}">Manage users</a></li>
									<li><a th:href="@{/application}">Manage applications</a></li>
								</ul>
							</li>
						</ul>
						
						<form class="form-logout " th:action="@{/logout}" method="POST">
							<ul class="logout nav navbar-nav">
								<li>
									<a href="#">Logout</a>
								</li>
							</ul>
						</form>
						<ul class="login-info nav navbar-nav">
							<li>
								Welcome <span sec:authentication="name">User</span> !
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>

</html>
